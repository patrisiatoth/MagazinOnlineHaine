<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MagazinOnlineHaine.ProductEntryPage"
             Title="Gestionare Produse">

    <ScrollView>
        <StackLayout Padding="20" Spacing="10">
            <!-- Câmpuri pentru adăugare/editare -->
            <Label Text="Nume Produs:" />
            <Entry x:Name="NameEntry" Placeholder="Introdu numele produsului" />

            <Label Text="Preț:" />
            <Entry x:Name="PriceEntry" Placeholder="Introdu prețul" Keyboard="Numeric" />

            <Label Text="URL Imagine:" />
            <Entry x:Name="ImageUrlEntry" Placeholder="Introdu URL-ul imaginii" />

            <Label Text="Categorie:" />
            <Picker x:Name="CategoryPicker" Title="Selectează o categorie" />

            <!-- Butoane pentru salvare și ștergere -->
            <Button Text="Salvează Produs" Clicked="OnSaveButtonClicked" />
            <Button Text="Șterge Produs" Clicked="OnDeleteButtonClicked" />

            <!-- Lista de produse existente -->
            <CollectionView x:Name="ProductsCollectionView"
                            SelectionMode="Single"
                            SelectionChanged="OnProductSelected">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <StackLayout Padding="10">
                            <Label Text="{Binding Name}" FontSize="Medium" />
                            <Label Text="{Binding Price, StringFormat='Preț: {0:C}'}" FontSize="Small" />
                            <Label Text="{Binding Category.CategoryName, StringFormat='Categorie: {0}'}" FontSize="Small" />
                            <Image Source="{Binding ImageUrl}" Aspect="AspectFill" HeightRequest="100" />
                        </StackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </StackLayout>
    </ScrollView>
</ContentPage>